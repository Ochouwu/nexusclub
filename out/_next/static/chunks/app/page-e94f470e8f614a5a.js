(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6458:function(s,e,a){Promise.resolve().then(a.bind(a,6911))},6911:function(s,e,a){"use strict";a.r(e),a.d(e,{default:function(){return i}});var n=a(7437),c=a(2265);a(6217);var t=a(2493);function i(){let[s,e]=(0,c.useState)(!1),[a,i]=(0,c.useState)(!1),[l,o]=(0,c.useState)(!1),[r,d]=(0,c.useState)(null),[u,g]=(0,c.useState)(""),[m,h]=(0,c.useState)(null),x=(0,c.useRef)(null);(0,c.useEffect)(()=>{s&&x.current&&(x.current.play(),x.current.onended=()=>{e(!1),i(!0)})},[s]);let j=async()=>{if(""===u.trim())return;let s="/usuarios/".concat(u);d({carnet:"".concat(s,"/carnetoff.png"),ceo:"".concat(s,"/ceo.png"),insigniasl:"".concat(s,"/insigniasl.png"),insigniasr:"".concat(s,"/insigniasr.png")});try{let e=await fetch("".concat(s,"/datos.json")),a=await e.json();h(a),i(!1),o(!0)}catch(s){alert("âŒ No se encontraron los datos del usuario")}},N=s=>{let e="/usuarios/".concat(u,"/examen_").concat(s,".pdf"),a=document.createElement("a");a.href=e,a.download="examen_".concat(s,".pdf"),a.click();let n=document.getElementById("tooltip-".concat(s));n&&(n.classList.add("visible"),setTimeout(()=>n.classList.remove("visible"),2e3))},p=(null==m?void 0:m.notaA)||0,v=(null==m?void 0:m.notaB)||0,f=(null==m?void 0:m.caducidad)||"Desconocida",b=(null==m?void 0:m.hb)||"Desconocida",C=(null==m?void 0:m.categoria)||"N/A";return(0,n.jsxs)("main",{className:"main-container",children:[(0,n.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,className:"background-video",children:(0,n.jsx)("source",{src:"/background.mp4",type:"video/mp4"})}),!s&&!a&&!l&&(0,n.jsx)("button",{className:"intro-button",onClick:()=>e(!0),children:(0,n.jsx)("img",{src:"/logo.png",alt:"Logo",className:"logo"})}),s&&(0,n.jsx)("div",{className:"intro-video-container fade-out",children:(0,n.jsx)("video",{ref:x,className:"intro-video",src:"/intro.mp4",autoPlay:!0,playsInline:!0,muted:!1,controls:!1})}),a&&(0,n.jsxs)("div",{className:"login-container fade-in-up",children:[(0,n.jsxs)("div",{className:"login-header",children:[(0,n.jsx)("img",{src:"/logo.png",alt:"Logo",className:"logo"}),(0,n.jsx)("h1",{className:"login-title",children:"Login"})]}),(0,n.jsx)("input",{className:"input-id",type:"text",placeholder:"Ingresa tu ID",value:u,onChange:s=>g(s.target.value)}),(0,n.jsx)("button",{className:"glass-button",onClick:j,children:"Ver carnet"})]}),l&&r&&m&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"carnet-container fade-in-up",children:[(0,n.jsxs)("div",{className:"carnet-left",children:[(0,n.jsx)("img",{src:r.carnet,alt:"Carnet",className:"carnet-img"}),(0,n.jsxs)("div",{className:"button-group",children:[(0,n.jsx)("button",{className:"glass-button download-button",onClick:()=>{let s=document.createElement("a");s.href="/usuarios/".concat(u,"/carnetoff.png"),s.download="carnet.png",s.click()},children:"Descargar Imagen"}),(0,n.jsx)("button",{className:"glass-button download-button",onClick:()=>{let s=new Image;s.src="/usuarios/".concat(u,"/carnetoff.png"),s.onload=()=>{let e=new t.ZP("p","mm","a4"),a=e.internal.pageSize.getWidth(),n=e.internal.pageSize.getHeight(),c=s.width*n/s.height;e.addImage(s,"PNG",(a-c)/2,0,c,n),e.save("carnet.pdf")}},children:"Descargar PDF"})]})]}),(0,n.jsxs)("div",{className:"carnet-right glass-panel",children:[(0,n.jsx)("h2",{className:"section-title",children:"Resumen del Usuario"}),(0,n.jsxs)("div",{className:"exam-row",children:[(0,n.jsx)("span",{children:"Examen A"}),(0,n.jsx)("div",{className:"glass-grade green hover-scale",onClick:()=>N("a"),style:{cursor:"pointer"},children:p}),(0,n.jsx)("span",{id:"tooltip-a",className:"glass-tooltip",children:"\uD83D\uDCC4 Examen A descargado"})]}),(0,n.jsxs)("div",{className:"exam-row",children:[(0,n.jsx)("span",{children:"Examen B"}),(0,n.jsx)("div",{className:"glass-grade green hover-scale",onClick:()=>N("b"),style:{cursor:"pointer"},children:v}),(0,n.jsx)("span",{id:"tooltip-b",className:"glass-tooltip",children:"\uD83D\uDCC4 Examen B descargado"})]}),(0,n.jsxs)("div",{className:"exam-row",children:[(0,n.jsx)("span",{children:"Nota Final"}),(0,n.jsx)("div",{className:"glass-grade green hover-scale",children:Math.round((p+v)/2)})]}),(0,n.jsx)("h3",{className:"section-subtitle",children:"Contrato"}),(0,n.jsx)("div",{className:"contract-status",children:(0,n.jsxs)("div",{className:"glass-contract green",children:["Activo ",(0,n.jsx)("div",{className:"pulsating-circle inside"})]})}),(0,n.jsx)("div",{className:"contract-status",children:(0,n.jsxs)("div",{className:"glass-contract red",children:["Caducidad: ",f]})}),(0,n.jsx)("div",{className:"contract-status",children:(0,n.jsx)("div",{className:"glass-contract yellow",children:(0,n.jsxs)("span",{style:{color:"#FFFFFF",fontWeight:"bold"},children:["HB: ",b]})})}),(0,n.jsx)("h3",{className:"section-subtitle",children:"Categor\xeda"}),(0,n.jsxs)("div",{className:"glass-category center-content",children:[(0,n.jsx)("img",{src:r.ceo,alt:"CEO",className:"ceo-img"}),(0,n.jsx)("strong",{children:C})]})]})]}),(0,n.jsxs)("div",{className:"dual-insignias-container",children:[(0,n.jsx)("img",{src:r.insigniasl,alt:"Insignias Izquierda",className:"dual-insignias-img"}),(0,n.jsx)("img",{src:r.insigniasr,alt:"Insignias Derecha",className:"dual-insignias-img"})]})]}),(0,n.jsx)("footer",{className:"copyright-footer",children:"\xa9 Nexus / Creator: Ocho - Renato V. 2025"})]})}},6217:function(){}},function(s){s.O(0,[505,112,971,69,744],function(){return s(s.s=6458)}),_N_E=s.O()}]);